import telebot
import logging
import requests
import random
import string
import time
from collections import defaultdict
import aiohttp
import asyncio
from telebot import types
from telethon.sync import TelegramClient
from telethon import functions, types as telethon_types
import datetime


logging.basicConfig(format='%(asctime)s - %(name)s - %(levelname)s - %(message)s', level=logging.INFO)
logger = logging.getLogger(__name__)
bot = telebot.TeleBot('6772048870:AAF1V0Mj9fY0nQC7qFvCZqW8NDhECBcIEx0')

channel_id = '-1002225989725'
channel_link = 'https://t.me/+8mm22B5jidZhNWQy'

donate_link = 'http://t.me/send?start=IVDJzBx0SiCe'

user_complaints_today = defaultdict(int)
user_complaints_total = defaultdict(int)

admins = [6666022598]
vip_users = [7163626003, 7377161497, 6073339118, 1357138609, 5038575317, 5812184504]
top_donators = [
    {'user_id': 1357138609, 'amount': 61.76},
    {'user_id': 5038575317, 'amount': 17.59},
    {'user_id': 7163626003, 'amount': 4.32},
    {'user_id': 5812184504, 'amount': 2.58},
    {'user_id': 6073339118, 'amount': 0.88}
]
banned_users = {}
complaint_types_users = {
    "Спам": [
        "Уважаемая служба поддержки, я столкнулся с серьезной проблемой спама от пользователя ID: {user_id}. Это нарушает мой комфорт и безопасность в чате. Прошу принять меры для блокировки этого аккаунта. Ссылка на нарушение: {link}",
        "Пользователь с ID {user_id} рассылает нежелательные сообщения, что создает негативную атмосферу. Требуется немедленное вмешательство для защиты остальных участников. Ссылка на нарушение: {link}",
        "ID пользователя {user_id} занимается массовой рассылкой рекламных материалов, что является прямым нарушением правил. Прошу удалить его аккаунт. Ссылка на нарушение: {link}",
        "Пользователь с ID {user_id} распространяет спам в нашем чате. Это создает неудобства для всех участников. Прошу принять меры. Ссылка на нарушение: {link}",
        "ID пользователя {user_id} рассылает рекламные сообщения, что является нарушением. Прошу блокировать его аккаунт. Ссылка на нарушение: {link}",
        "Пользователь с ID {user_id} рассылает спам, что создает негативную атмосферу. Прошу принять меры. Ссылка на нарушение: {link}",
        "ID пользователя {user_id} распространяет спам, что является нарушением. Прошу удалить его аккаунт. Ссылка на нарушение: {link}",
        "Пользователь с ID {user_id} рассылает рекламные сообщения, что создает неудобства. Прошу принять меры. Ссылка на нарушение: {link}",
        "ID пользователя {user_id} распространяет спам, что является прямым нарушением правил. Прошу блокировать его аккаунт. Ссылка на нарушение: {link}",
        "Пользователь с ID {user_id} рассылает спам, что создает проблемы. Прошу принять меры. Ссылка на нарушение: {link}"
    ],
    "Порнография": [
        "Срочно требуется ваше вмешательство! Пользователь ID: {user_id} распространяет непристойный контент, что недопустимо. Прошу удалить его аккаунт и обеспечить чистоту нашего общения. Ссылка на нарушение: {link}",
        "ID пользователя {user_id} нарушает этику общения, распространяя порнографические материалы. Это серьезное преступление. Прошу принять меры для его блокировки. Ссылка на нарушение: {link}",
        "Пользователь с ID {user_id} распространяет контент, не подходящий для всех возрастов. Прошу удалить его аккаунт и предотвратить дальнейшее распространение такого материала. Ссылка на нарушение: {link}",
        "ID пользователя {user_id} распространяет непристойные изображения. Это недопустимо. Прошу удалить его аккаунт. Ссылка на нарушение: {link}",
        "Пользователь с ID {user_id} нарушает правила, распространяя порнографический контент. Прошу принять меры. Ссылка на нарушение: {link}",
        "Пользователь с ID {user_id} распространяет порнографический контент, что создает проблемы. Прошу принять меры. Ссылка на нарушение: {link}",
        "ID пользователя {user_id} распространяет непристойный контент, что является нарушением. Прошу удалить его аккаунт. Ссылка на нарушение: {link}",
        "Пользователь с ID {user_id} рассылает порнографические материалы, что создает негативную атмосферу. Прошу принять меры. Ссылка на нарушение: {link}",
        "ID пользователя {user_id} распространяет порнографический контент, что является прямым нарушением правил. Прошу блокировать его аккаунт. Ссылка на нарушение: {link}",
        "Пользователь с ID {user_id} рассылает порнографические материалы, что создает проблемы. Прошу принять меры. Ссылка на нарушение: {link}"
    ],
    "Фишинг": [
        "Внимание! Пользователь ID: {user_id} занимается фишингом, пытаясь украсть личные данные. Это серьезная угроза безопасности. Прошу удалить его аккаунт. Ссылка на нарушение: {link}",
        "ID пользователя {user_id} участвует в фишинговых атаках, что является прямым нарушением закона. Требуется немедленное вмешательство для блокировки его аккаунта. Ссылка на нарушение: {link}",
        "Пользователь с ID {user_id} занимается мошенничеством, используя фишинговые схемы. Прошу удалить его аккаунт и обеспечить безопасность остальных пользователей. Ссылка на нарушение: {link}",
        "ID пользователя {user_id} распространяет фишинговые ссылки. Это опасно для всех участников. Прошу принять меры. Ссылка на нарушение: {link}",
        "Пользователь с ID {user_id} пытается украсть данные через фишинговые сообщения. Прошу удалить его аккаунт. Ссылка на нарушение: {link}",
        "Пользователь с ID {user_id} распространяет фишинговые ссылки, что создает проблемы. Прошу принять меры. Ссылка на нарушение: {link}",
        "ID пользователя {user_id} рассылает фишинговые сообщения, что является нарушением. Прошу удалить его аккаунт. Ссылка на нарушение: {link}",
        "Пользователь с ID {user_id} занимается фишингом, что создает негативную атмосферу. Прошу принять меры. Ссылка на нарушение: {link}",
        "ID пользователя {user_id} распространяет фишинговые ссылки, что является прямым нарушением правил. Прошу блокировать его аккаунт. Ссылка на нарушение: {link}",
        "Пользователь с ID {user_id} рассылает фишинговые сообщения, что создает проблемы. Прошу принять меры. Ссылка на нарушение: {link}"
    ],
    "Дианон": [
        "Уважаемая служба поддержки, пользователь ID: {user_id} занимается деанонимизацией, что нарушает мою конфиденциальность. Прошу удалить его аккаунт и защитить мои данные. Ссылка на нарушение: {link}",
        "ID пользователя {user_id} раскрывает личную информацию других участников, что недопустимо. Требуется немедленное вмешательство для блокировки его аккаунта. Ссылка на нарушение: {link}",
        "Пользователь с ID {user_id} нарушает правила, распространяя личные данные. Прошу удалить его аккаунт и обеспечить конфиденциальность всех участников. Ссылка на нарушение: {link}",
        "ID пользователя {user_id} распространяет информацию, нарушая конфиденциальность. Прошу принять меры. Ссылка на нарушение: {link}",
        "Пользователь с ID {user_id} деанонимизирует других участников. Это недопустимо. Прошу удалить его аккаунт. Ссылка на нарушение: {link}",
        "Пользователь с ID {user_id} распространяет личные данные, что создает проблемы. Прошу принять меры. Ссылка на нарушение: {link}",
        "ID пользователя {user_id} раскрывает конфиденциальную информацию, что является нарушением. Прошу удалить его аккаунт. Ссылка на нарушение: {link}",
        "Пользователь с ID {user_id} занимается деанонимизацией, что создает негативную атмосферу. Прошу принять меры. Ссылка на нарушение: {link}",
        "ID пользователя {user_id} распространяет личные данные, что является прямым нарушением правил. Прошу блокировать его аккаунт. Ссылка на нарушение: {link}",
        "Пользователь с ID {user_id} рассылает конфиденциальную информацию, что создает проблемы. Прошу принять меры. Ссылка на нарушение: {link}"
    ],
    "Мошенничество": [
        "Срочно! Пользователь ID: {user_id} занимается мошенничеством, пытаясь обмануть других участников. Это серьезное преступление. Прошу удалить его аккаунт. Ссылка на нарушение: {link}",
        "ID пользователя {user_id} использует мошеннические схемы, что является прямым нарушением закона. Требуется немедленное вмешательство для блокировки его аккаунта. Ссылка на нарушение: {link}",
        "Пользователь с ID {user_id} занимается обманом, что создает негативную атмосферу. Прошу удалить его аккаунт и обеспечить безопасность остальных пользователей. Ссылка на нарушение: {link}",
        "ID пользователя {user_id} распространяет мошеннические предложения. Это опасно для всех участников. Прошу принять меры. Ссылка на нарушение: {link}",
        "Пользователь с ID {user_id} пытается обмануть других участников. Прошу удалить его аккаунт. Ссылка на нарушение: {link}",
        "Пользователь с ID {user_id} распространяет мошеннические схемы, что создает проблемы. Прошу принять меры. Ссылка на нарушение: {link}",
        "ID пользователя {user_id} использует обман, что является нарушением. Прошу удалить его аккаунт. Ссылка на нарушение: {link}",
        "Пользователь с ID {user_id} занимается мошенничеством, что создает негативную атмосферу. Прошу принять меры. Ссылка на нарушение: {link}",
        "ID пользователя {user_id} распространяет мошеннические предложения, что является прямым нарушением правил. Прошу блокировать его аккаунт. Ссылка на нарушение: {link}",
        "Пользователь с ID {user_id} рассылает мошеннические сообщения, что создает проблемы. Прошу принять меры. Ссылка на нарушение: {link}"
    ],
    "Реклама": [
        "Уважаемая служба поддержки, пользователь ID: {user_id} распространяет рекламу в чате. Это нарушает правила. Прошу принять меры. Ссылка на нарушение: {link}",
        "ID пользователя {user_id} рассылает рекламные сообщения. Это недопустимо. Прошу удалить его аккаунт. Ссылка на нарушение: {link}",
        "Пользователь с ID {user_id} нарушает правила, распространяя рекламу. Прошу принять меры. Ссылка на нарушение: {link}",
        "ID пользователя {user_id} распространяет рекламные ссылки. Это создает неудобства. Прошу удалить его аккаунт. Ссылка на нарушение: {link}",
        "Пользователь с ID {user_id} рассылает рекламные предложения. Это недопустимо. Прошу принять меры. Ссылка на нарушение: {link}",
        "Пользователь с ID {user_id} распространяет рекламу, что создает проблемы. Прошу принять меры. Ссылка на нарушение: {link}",
        "ID пользователя {user_id} рассылает рекламные сообщения, что является нарушением. Прошу удалить его аккаунт. Ссылка на нарушение: {link}",
        "Пользователь с ID {user_id} занимается рекламой, что создает негативную атмосферу. Прошу принять меры. Ссылка на нарушение: {link}",
        "ID пользователя {user_id} распространяет рекламные ссылки, что является прямым нарушением правил. Прошу блокировать его аккаунт. Ссылка на нарушение: {link}",
        "Пользователь с ID {user_id} рассылает рекламные сообщения, что создает проблемы. Прошу принять меры. Ссылка на нарушение: {link}"
    ],
    "Оскорбления": [
        "Уважаемая служба поддержки, пользователь ID: {user_id} оскорбляет других участников чата. Это создает негативную атмосферу. Прошу принять меры. Ссылка на нарушение: {link}",
        "ID пользователя {user_id} распространяет оскорбительные сообщения. Это недопустимо. Прошу удалить его аккаунт. Ссылка на нарушение: {link}",
"Пользователь с ID {user_id} нарушает правила, оскорбляя других участников. Прошу принять меры. Ссылка на нарушение: {link}",
"ID пользователя {user_id} распространяет оскорбительный контент. Это создает негативную атмосферу. Прошу удалить его аккаунт. Ссылка на нарушение: {link}",
"Пользователь с ID {user_id} оскорбляет других участников. Это недопустимо. Прошу принять меры. Ссылка на нарушение: {link}",
"Пользователь с ID {user_id} распространяет оскорбительные сообщения, что создает проблемы. Прошу принять меры. Ссылка на нарушение: {link}",
"ID пользователя {user_id} рассылает оскорбительные сообщения, что является нарушением. Прошу удалить его аккаунт. Ссылка на нарушение: {link}",
"Пользователь с ID {user_id} занимается оскорблениями, что создает негативную атмосферу. Прошу принять меры. Ссылка на нарушение: {link}",
"ID пользователя {user_id} распространяет оскорбительные сообщения, что является прямым нарушением правил. Прошу блокировать его аккаунт. Ссылка на нарушение: {link}",
"Пользователь с ID {user_id} рассылает оскорбительные сообщения, что создает проблемы. Прошу принять меры. Ссылка на нарушение: {link}"
],
"Нарушение авторских прав": [
"Уважаемая служба поддержки, пользователь ID: {user_id} распространяет материалы, нарушающие авторские права. Прошу принять меры. Ссылка на нарушение: {link}",
"ID пользователя {user_id} распространяет контент, нарушающий авторские права. Это недопустимо. Прошу удалить его аккаунт. Ссылка на нарушение: {link}",
"Пользователь с ID {user_id} нарушает правила, распространяя материалы с нарушением авторских прав. Прошу принять меры. Ссылка на нарушение: {link}",
"ID пользователя {user_id} распространяет контент, нарушающий авторские права. Это создает проблемы. Прошу удалить его аккаунт. Ссылка на нарушение: {link}",
"Пользователь с ID {user_id} распространяет материалы, нарушающие авторские права. Это недопустимо. Прошу принять меры. Ссылка на нарушение: {link}",
"Пользователь с ID {user_id} распространяет материалы, нарушающие авторские права, что создает проблемы. Прошу принять меры. Ссылка на нарушение: {link}",
"ID пользователя {user_id} рассылает контент, нарушающий авторские права, что является нарушением. Прошу удалить его аккаунт. Ссылка на нарушение: {link}",
"Пользователь с ID {user_id} занимается распространением материалов, нарушающих авторские права, что создает негативную атмосферу. Прошу принять меры. Ссылка на нарушение: {link}",
"ID пользователя {user_id} распространяет контент, нарушающий авторские права, что является прямым нарушением правил. Прошу блокировать его аккаунт. Ссылка на нарушение: {link}",
"Пользователь с ID {user_id} рассылает материалы, нарушающие авторские права, что создает проблемы. Прошу принять меры. Ссылка на нарушение: {link}"
],
"Вирт": [
"Уважаемая служба поддержки, Я столкнулся с проблемой, когда пользователь с ID {user_id} использует виртуальные номера для обхода ограничений и мошенничества. Это создает несправедливые условия для других пользователей и нарушает правила использования приложения. Прошу принять меры для блокировки таких действий и обеспечения безопасности всех пользователей.", 
"Дорогая служба поддержки, Пользователь с ID {user_id} использует виртуальные номера для получения несанкционированного доступа к функционалу приложения. Это нарушает условия лицензионного соглашения и создает угрозу безопасности. Прошу рассмотреть этот вопрос и принять соответствующие меры для защиты наших пользователей и ресурсов.",
"Уважаемая служба поддержки, Я заметил, что пользователь с ID {user_id} использует виртуальные номера для массовой регистрации аккаунтов в приложении. Это создает нагрузку на серверы и нарушает правила использования. Прошу принять меры для блокировки таких аккаунтов и предотвращения подобных действий в будущем.",
"Дорогая служба поддержки, Пользователь с ID {user_id} использует виртуальные номера для совершения мошеннических действий в приложении. Это наносит ущерб нашей репутации и безопасности пользователей. Прошу рассмотреть этот вопрос и принять меры для блокировки таких пользователей и восстановления справедливости."]
}

complaint_types_groups = {
    "Спам": [
        "Уважаемая служба поддержки, группа с ID {user_id} рассылает спам, что нарушает правила. Прошу принять меры. Ссылка на нарушение: {link}",
        "Группа с ID {user_id} распространяет нежелательные сообщения, создавая негативную атмосферу. Требуется немедленное вмешательство. Ссылка на нарушение: {link}",
        "Группа с ID {user_id} постоянно отправляет рекламные сообщения, что является спамом. Прошу блокировать их. Ссылка на нарушение: {link}",
        "Группа с ID {user_id} использует автоматические рассылки, что создает неудобства для пользователей. Требуется вмешательство. Ссылка на нарушение: {link}",
        "Группа с ID {user_id} рассылает ссылки на нежелательные ресурсы. Это нарушает правила. Прошу принять меры. Ссылка на нарушение: {link}"
    ],
    "Мошенничество": [
        "Внимание! Группа с ID {user_id} занимается мошенничеством, пытаясь обмануть участников. Это серьезная угроза безопасности. Прошу удалить группу. Ссылка на нарушение: {link}",
        "Группа с ID {user_id} использует мошеннические схемы, что является прямым нарушением закона. Требуется немедленное вмешательство для блокировки. Ссылка на нарушение: {link}",
        "Группа с ID {user_id} предлагает ложные услуги, что является мошенничеством. Прошу принять меры. Ссылка на нарушение: {link}",
        "Группа с ID {user_id} заманивает пользователей на фишинговые сайты. Это опасно. Требуется немедленное вмешательство. Ссылка на нарушение: {link}",
        "Группа с ID {user_id} распространяет информацию о несуществующих акциях. Это мошенничество. Прошу блокировать группу. Ссылка на нарушение: {link}"
    ],
    "Оскорбления": [
        "Уважаемая служба поддержки, группа с ID {user_id} оскорбляет участников чата. Это создает негативную атмосферу. Прошу принять меры. Ссылка на нарушение: {link}",
        "Группа с ID {user_id} распространяет оскорбительные сообщения. Это недопустимо. Прошу удалить группу. Ссылка на нарушение: {link}",
        "Группа с ID {user_id} постоянно использует ненормативную лексику. Это оскорбительно для многих. Прошу принять меры. Ссылка на нарушение: {link}",
        "Группа с ID {user_id} оскорбляет пользователей на основе их национальности. Это недопустимо. Требуется вмешательство. Ссылка на нарушение: {link}",
        "Группа с ID {user_id} распространяет личные нападки на участников. Это создает негативную атмосферу. Прошу блокировать группу. Ссылка на нарушение: {link}"
    ],
    "Нарушение авторских прав": [
        "Группа с ID {user_id} распространяет материалы, нарушающие авторские права. Прошу принять меры. Ссылка на нарушение: {link}",
        "Группа с ID {user_id} незаконно использует контент других авторов. Это нарушает закон. Требуется немедленное вмешательство. Ссылка на нарушение: {link}",
        "Группа с ID {user_id} публикует фотографии без согласия авторов. Это нарушение авторских прав. Прошу удалить группу. Ссылка на нарушение: {link}",
        "Группа с ID {user_id} распространяет видео, нарушающие авторские права. Это недопустимо. Требуется вмешательство. Ссылка на нарушение: {link}",
        "Группа с ID {user_id} использует музыкальные произведения без разрешения. Это нарушение авторских прав. Прошу принять меры. Ссылка на нарушение: {link}"
    ],
    "Распространение нелегального контента": [
        "Группа с ID {user_id} распространяет нелегальный контент, что нарушает закон. Прошу принять меры. Ссылка на нарушение: {link}",
        "Группа с ID {user_id} публикует материалы, запрещенные законом. Это серьезное нарушение. Требуется немедленное вмешательство. Ссылка на нарушение: {link}",
        "Группа с ID {user_id} распространяет контент, связанный с наркотиками. Это опасно и незаконно. Прошу удалить группу. Ссылка на нарушение: {link}",
        "Группа с ID {user_id} публикует информацию о незаконных действиях. Это нарушает правила. Требуется вмешательство. Ссылка на нарушение: {link}",
        "Группа с ID {user_id} распространяет контент, связанный с насилием. Это недопустимо. Прошу принять меры. Ссылка на нарушение: {link}"
    ],
    "Нарушение конфиденциальности": [
        "Группа с ID {user_id} распространяет личную информацию без согласия. Это нарушение конфиденциальности. Прошу принять меры. Ссылка на нарушение: {link}",
        "Группа с ID {user_id} публикует данные, которые должны быть конфиденциальными. Это серьезное нарушение. Требуется немедленное вмешательство. Ссылка на нарушение: {link}",
        "Группа с ID {user_id} распространяет информацию о пользователях без их согласия. Это нарушение конфиденциальности. Прошу удалить группу. Ссылка на нарушение: {link}",
        "Группа с ID {user_id} публикует личные сообщения. Это недопустимо. Требуется вмешательство. Ссылка на нарушение: {link}",
        "Группа с ID {user_id} распространяет данные, которые должны быть защищены. Это нарушение конфиденциальности. Прошу принять меры. Ссылка на нарушение: {link}"
    ],
    "Нарушение правил платформы": [
        "Группа с ID {user_id} нарушает правила платформы, распространяя запрещенный контент. Прошу принять меры. Ссылка на нарушение: {link}",
        "Группа с ID {user_id} публикует материалы, которые запрещены правилами платформы. Это серьезное нарушение. Требуется немедленное вмешательство. Ссылка на нарушение: {link}",
        "Группа с ID {user_id} распространяет контент, нарушающий правила платформы. Это недопустимо. Прошу удалить группу. Ссылка на нарушение: {link}",
        "Группа с ID {user_id} публикует информацию, которая противоречит правилам платформы. Это нарушение. Требуется вмешательство. Ссылка на нарушение: {link}",
        "Группа с ID {user_id} распространяет контент, запрещенный правилами платформы. Это серьезное нарушение. Прошу принять меры. Ссылка на нарушение: {link}"
    ]
}

complaint_types_channels = {
    "Спам": [
        "Канал с ID {user_id} рассылает спам, что нарушает правила. Прошу принять меры. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} распространяет нежелательные сообщения. Требуется немедленное вмешательство. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} постоянно отправляет рекламные сообщения, что является спамом. Прошу блокировать их. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} использует автоматические рассылки, что создает неудобства для пользователей. Требуется вмешательство. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} рассылает ссылки на нежелательные ресурсы. Это нарушает правила. Прошу принять меры. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} распространяет спам-сообщения, что создает негативную атмосферу. Прошу удалить канал. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} отправляет массовые рекламные сообщения. Это нарушает правила. Требуется немедленное вмешательство. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} рассылает спам, что приводит к потере времени пользователей. Прошу принять меры. Ссылка на нарушение: {link}"
    ],
    "Мошенничество": [
        "Канал с ID {user_id} занимается мошенничеством. Это серьезная угроза безопасности. Прошу удалить канал. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} использует мошеннические схемы. Требуется немедленное вмешательство для блокировки. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} предлагает ложные услуги, что является мошенничеством. Прошу принять меры. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} заманивает пользователей на фишинговые сайты. Это опасно. Требуется немедленное вмешательство. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} распространяет информацию о несуществующих акциях. Это мошенничество. Прошу блокировать канал. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} использует обманные методы для получения денег. Это нарушает правила. Требуется немедленное вмешательство. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} распространяет мошеннические предложения. Это создает угрозу для пользователей. Прошу удалить канал. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} занимается мошенничеством, что приводит к финансовым потерям пользователей. Прошу принять меры. Ссылка на нарушение: {link}"
    ],
    "Оскорбления": [
        "Канал с ID {user_id} оскорбляет участников. Это создает негативную атмосферу. Прошу принять меры. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} распространяет оскорбительные сообщения. Это недопустимо. Прошу удалить канал. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} постоянно использует ненормативную лексику. Это оскорбительно для многих. Прошу принять меры. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} оскорбляет пользователей на основе их национальности. Это недопустимо. Требуется вмешательство. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} распространяет личные нападки на участников. Это создает негативную атмосферу. Прошу блокировать канал. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} отправляет оскорбительные сообщения, что нарушает правила. Требуется немедленное вмешательство. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} распространяет оскорбительный контент, что создает негативную атмосферу. Прошу удалить канал. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} оскорбляет пользователей, что приводит к психологическому дискомфорту. Прошу принять меры. Ссылка на нарушение: {link}"
    ],
    "Нарушение авторских прав": [
        "Канал с ID {user_id} распространяет материалы, нарушающие авторские права. Прошу принять меры. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} незаконно использует контент других авторов. Это нарушает закон. Требуется немедленное вмешательство. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} публикует фотографии без согласия авторов. Это нарушение авторских прав. Прошу удалить канал. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} распространяет видео, нарушающие авторские права. Это недопустимо. Требуется вмешательство. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} использует музыкальные произведения без разрешения. Это нарушение авторских прав. Прошу принять меры. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} распространяет контент, который нарушает авторские права. Требуется немедленное вмешательство. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} публикует материалы, защищенные авторским правом, без разрешения. Это нарушает правила. Прошу удалить канал. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} распространяет контент, нарушающий авторские права, что приводит к убыткам авторов. Прошу принять меры. Ссылка на нарушение: {link}"
    ],
    "Распространение нелегального контента": [
        "Канал с ID {user_id} распространяет нелегальный контент, что нарушает закон. Прошу принять меры. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} публикует материалы, запрещенные законом. Это серьезное нарушение. Требуется немедленное вмешательство. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} распространяет контент, связанный с наркотиками. Это опасно и незаконно. Прошу удалить канал. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} публикует информацию о незаконных действиях. Это нарушает правила. Требуется вмешательство. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} распространяет контент, связанный с насилием. Это недопустимо. Прошу принять меры. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} публикует нелегальные материалы, что создает угрозу безопасности. Требуется немедленное вмешательство. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} распространяет запрещенный контент, что нарушает закон. Прошу удалить канал. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} распространяет нелегальный контент, что приводит к правовым проблемам. Прошу принять меры. Ссылка на нарушение: {link}"
    ],
    "Нарушение конфиденциальности": [
        "Канал с ID {user_id} распространяет личную информацию без согласия. Это нарушение конфиденциальности. Прошу принять меры. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} публикует данные, которые должны быть конфиденциальными. Это серьезное нарушение. Требуется немедленное вмешательство. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} распространяет информацию о пользователях без их согласия. Это нарушение конфиденциальности. Прошу удалить канал. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} публикует личные сообщения. Это недопустимо. Требуется вмешательство. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} распространяет данные, которые должны быть защищены. Это нарушение конфиденциальности. Прошу принять меры. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} публикует конфиденциальную информацию, что создает угрозу безопасности. Требуется немедленное вмешательство. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} распространяет личные данные, что нарушает конфиденциальность. Прошу удалить канал. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} распространяет конфиденциальную информацию, что приводит к утечке данных. Прошу принять меры. Ссылка на нарушение: {link}"
    ],
    "Нарушение правил платформы": [
        "Канал с ID {user_id} нарушает правила платформы, распространяя запрещенный контент. Прошу принять меры. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} публикует материалы, которые запрещены правилами платформы. Это серьезное нарушение. Требуется немедленное вмешательство. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} распространяет контент, нарушающий правила платформы. Это недопустимо. Прошу удалить канал. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} публикует информацию, которая противоречит правилам платформы. Это нарушение. Требуется вмешательство. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} распространяет контент, запрещенный правилами платформы. Это серьезное нарушение. Прошу принять меры. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} нарушает правила платформы, что создает негативную атмосферу. Требуется немедленное вмешательство. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} распространяет контент, который противоречит правилам платформы. Прошу удалить канал. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} нарушает правила платформы, что приводит к конфликтам. Прошу принять меры. Ссылка на нарушение: {link}"
    ],
    "Незаконная реклама": [
        "Канал с ID {user_id} распространяет незаконную рекламу. Это нарушает правила. Прошу принять меры. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} публикует рекламные сообщения без соответствующих разрешений. Требуется немедленное вмешательство. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} распространяет рекламу, которая нарушает закон. Прошу удалить канал. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} публикует рекламные материалы, запрещенные правилами платформы. Это недопустимо. Требуется вмешательство. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} распространяет рекламу, которая создает угрозу безопасности. Прошу принять меры. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} нарушает правила рекламы, что приводит к финансовым потерям пользователей. Требуется немедленное вмешательство. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} распространяет незаконную рекламу, что создает негативную атмосферу. Прошу удалить канал. Ссылка на нарушение: {link}",
        "Канал с ID {user_id} нарушает правила рекламы, что приводит к правовым проблемам. Прошу принять меры. Ссылка на нарушение: {link}"
    ]
}

sites = [
    {
        'url': 'https://telegram.org/support',
        'data': {
            'tg_feedback_appeal': '...',  
            'tg_feedback_email': '...',
            'tg_feedback_phone': '...'
        }
    }
]

phone_numbers = [
    "+79123456789",
    "+79234567890",
     "+79345678901",
    "+79456789012",
    "+79567890123",
    "+79899899880",
    "+79921219497",
    "+79142713399",
    "+79841183364",
    "+79052638740",
    "+79782795033",
    "+380950754198",
    "+79891247275",
    "+79021240848",
    "+79000529517",
    "+380950726459",
    "+79043665039",
    "+79966287301",
    "+380969916088",
    "+79616459702",
    "+79002940036",
    "+79193704818",
    "+79000586068",
    "+79000586069",
    "+79193704818",
    "+79256440540",
    "+77475568493",
    "+380981272681",
    "+79824054695",
    "+79224693139",
    "+79824054695",
    "+79129102228",
    "+79287288244",
    "+79315774082",
    "+380981272681",
    "+79000243902",
    "+79511037113",
    "+79931336089",
    "+77071211538",
    "+79509820128",
    "+79961334370",
    "+79608680310",
    "+79872753935",
    "+79999097359",
    "+79372460746",
    "+79227963514",
    "+79170163123",
    "+79147722064",
    "+79085534084",
    "+79047384037",
    "+79049692438",
    "+79028652699",
    "+79967322520",
    "+79644441515",
    "+79775983461",
    "+79534863408",
    "+79003281691",
    "+74957888878",
    "+78432262150",
    "+79509695754",
    "+79047640249",
    "+79505776241",
    "+380995102459",
    "+79773864851",
    "+79224585935",
    "+79174432402",
    "+73478322051"
   
]

proxies = [
    {"http": "http://199.167.236.12:3128"},
    {"http": "http://13.234.24.116:3128"},
    {"http": "http://182.253.152.69:4153"},
    {"http": "http://192.252.216.81:4145"},
    {"http": "http://13.37.89.201:3128"},
    {"http": "http://115.127.78.50:9090"},
    {"http": "http://16.16.239.39:3128"},
    {"http": "http://3.123.150.192:3128"},
    {"http": "http://51.20.19.159:3128"},
    {"http": "http://204.236.137.68:3128"},
    {"http": "http://54.179.44.51:3128"},
    {"http": "http://52.67.10.183:3128"},
    {"http": "http://52.16.232.164:3128"},
    {"http": "http://3.12.144.146:3128"},
    {"http": "http://52.48.92.101:3128"},
    {"http": "http://13.48.109.48:3128"},
    {"http": "http://54.228.164.102:3128"},
    {"http": "http://13.40.239.130:3128"},
    {"http": "http://134.209.67.109:26000"},
    {"http": "http://24.249.199.12:4145"},
    {"http": "http://104.200.135.46:4145"},
    {"http": "http://184.170.248.5:4145"},
    {"http": "http://103.155.26.203:5555"},
    {"http": "http://72.217.158.202:4145"},
    {"http": "http://24.249.199.4:4145"},
    {"http": "http://45.115.115.37:9090"},
    {"http": "http://208.65.90.21:4145"},
    {"http": "http://192.111.129.145:16894"},
    {"http": "http://174.77.111.197:4145"},
    {"http": "http://74.119.147.209:4145"},
    {"http": "http://72.195.34.42:4145"},
    {"http": "http://184.178.172.13:15311"},
    {"http": "http://98.162.25.16:4145"},
    {"http": "http://23.19.244.109:1080"},
    {"http": "http://31.170.22.127:1080"},
    {"http": "http://184.178.172.5:15303"},
    {"http": "http://72.195.34.59:4145"},
    {"http": "http://98.162.25.16:4145"},
    {"http": "http://199.102.105.242:4145"},
    {"http": "http://184.178.172.13:15311"},
    {"http": "http://174.77.111.197:4145"},
    {"http": "http://98.162.25.4:31654"},
    {"http": "http://174.77.111.196:4145"},
    {"http": "http://72.195.34.60:27391"},
    {"http": "http://208.65.90.192:4145"},
    {"http": "http://98.188.47.132:4145"},
    {"http": "http://199.58.185.9:4145"},
    {"http": "http://208.65.90.21:4145"},
    {"http": "http://67.201.33.10:25283"},
    {"http": "http://24.249.199.12:4145"},
    {"http": "http://185.221.160.123:80"},
        {"http": "http://45.8.211.90:80"},
        {"http": "http://62.182.204.81:88"},
        {"http": "http://178.218.44.79:3128"},
        {"http": "http://31.43.179.136:80"},
        {"http": "http://31.43.179.247:80"},
        {"http": "http://195.137.167.62:80"},
        {"http": "http://195.137.167.25:80"},
        {"http": "http://62.33.207.202:80"},
        {"http": "http://5.189.184.147:27191"},
        {"http": "http://50.221.74.130:80"},
        {"http": "http://172.67.43.209:80"},
    {"http": "http://185.221.160.123:80"},
    {"http": "http://45.8.211.90:80"},
    {"http": "http://62.182.204.81:88"},
    {"http": "http://178.218.44.79:3128"},
    {"http": "http://31.43.179.136:80"},
    {"http": "http://31.43.179.247:80"},
    {"http": "http://195.137.167.62:80"},
    {"http": "http://195.137.167.25:80"},
    {"http": "http://62.33.207.202:80"},
    {"http": "http://5.189.184.147:27191"},
    {"http": "http://50.221.74.130:80"},
    {"http": "http://172.67.43.209:80"},
    {"http": "http://178.48.68.61:18080"},
    {"http": "http://117.250.3.58:8080"},
    {"http": "http://172.67.181.106:80"},
    {"http": "http://172.67.181.108:80"},
    {"http": "http://172.67.181.150:80"},
    {"http": "http://172.67.182.159:80"},
    {"http": "http://172.67.3.64:80"},
    {"http": "http://185.162.228.223:80"},
    {"http": "http://172.67.177.157:80"},
    {"http": "http://45.12.30.1:80"},
    {"http": "http://185.162.229.78:80"},
    {"http": "http://31.43.179.237:80"},
    {"http": "http://172.67.172.174:80"},
    {"http": "http://172.67.0.21:80"},
    {"http": "http://172.67.73.212:80"},
    {"http": "http://172.67.75.187:80"},
    {"http": "http://172.67.43.190:80"},
    {"http": "http://172.67.192.8:80"},
    {"http": "http://31.43.179.83:80"},
    {"http": "http://172.67.201.224:80"},
    {"http": "http://172.67.24.126:80"},
    {"http": "http://63.141.128.17:80"},
    {"http": "http://67.201.33.10:25283"},
    {"http": "http://172.67.75.35:80"},
    {"http": "http://172.67.182.137:80"},
    {"http": "http://172.67.207.187:80"},
    {"http": "http://172.67.180.50:80"},
    {"http": "http://172.67.177.11:80"},
    {"http": "http://185.162.229.10:80"},
    {"http": "http://185.162.230.49:80"},
    {"http": "http://185.162.228.104:80"},
    {"http": "http://45.12.31.2:80"},
    {"http": "http://185.162.228.52:80"},
    {"http": "http://141.193.213.20:80"},
    {"http": "http://185.238.228.178:80"},
    {"http": "http://141.101.120.235:80"},
    {"http": "http://63.141.128.169:80"},
    {"http": "http://45.131.4.207:80"},
    {"http": "http://63.141.128.243:80"},
    {"http": "http://5.182.34.67:80"},
    {"http": "http://172.67.182.62:80"},
    {"http": "http://172.67.181.124:80"},
    {"http": "http://185.162.228.158:80"},
    {"http": "http://45.12.30.228:80"},
    {"http": "http://185.162.230.112:80"},
    {"http": "http://45.12.30.120:80"},
    {"http": "http://185.162.228.89:80"},
    {"http": "http://31.43.179.230:80"},
    {"http": "http://172.67.171.208:80"},
    {"http": "http://172.67.170.33:80"},
    {"http": "http://172.67.179.182:80"},
    {"http": "http://172.67.179.188:80"},
    {"http": "http://141.101.120.172:80"},
    {"http": "http://141.101.121.70:80"},
    {"http": "http://141.101.121.160:80"},
    {"http": "http://141.101.122.167:80"},
    {"http": "http://141.101.122.132:80"},
    {"http": "http://63.141.128.14:80"},
    {"http": "http://45.131.4.17:80"},
    {"http": "http://45.131.4.47:80"},
    {"http": "http://172.67.68.68:80"},
    {"http": "http://63.141.128.78:80"},
    {"http": "http://172.67.161.211:80"},
    {"http": "http://5.182.34.109:80"},
    {"http": "http://188.114.98.233:80"},
    {"http": "http://172.67.181.122:80"},
    {"http": "http://172.67.176.135:80"},
    {"http": "http://185.162.228.65:80"},
    {"http": "http://172.67.193.136:80"},
    {"http": "http://31.43.179.28:80"},
    {"http": "http://31.43.179.33:80"},
    {"http": "http://172.67.0.42:80"},
    {"http": "http://172.67.43.79:80"},
    {"http": "http://172.67.43.80:80"},
    {"http": "http://172.67.185.158:80"},
    {"http": "http://172.67.81.185:80"},
    {"http": "http://172.67.255.64:80"},
    {"http": "http://172.64.98.128:80"},
    {"http": "http://141.101.120.94:80"},
    {"http": "http://141.101.120.252:80"},
    {"http": "http://141.101.121.135:80"},
    {"http": "http://45.131.4.152:80"},
    {"http": "http://63.141.128.1:80"},
    {"http": "http://172.67.31.147:80"},
    {"http": "http://170.114.45.6:80"},
    {"http": "http://5.182.34.240:80"},
    {"http": "http://50.168.163.179:80"},
    {"http": "http://50.172.39.98:80"},
    {"http": "http://141.101.123.215:80"},
    {"http": "http://172.67.180.58:80"},
    {"http": "http://172.67.176.16:80"},
    {"http": "http://172.64.194.2:80"},
    {"http": "http://172.67.125.104:80"},
    {"http": "http://172.64.135.33:80"},
    {"http": "http://141.101.121.29:80"},
    {"http": "http://141.101.123.88:80"},
    {"http": "http://172.67.70.117:80"},
    {"http": "http://172.67.70.248:80"},
    {"http": "http://50.174.145.14:80"},
    {"http": "http://172.67.74.181:80"},
    {"http": "http://172.67.182.131:80"},
    {"http": "http://141.101.123.12:80"},
    {"http": "http://172.67.169.199:80"},
    {"http": "http://172.67.181.105:80"},
    {"http": "http://185.162.228.253:80"},
    {"http": "http://185.162.230.2:80"},
    {"http": "http://185.162.228.73:80"},
    {"http": "http://185.162.228.116:80"},
    {"http": "http://185.162.231.25:80"},
    {"http": "http://172.67.184.50:80"},
    {"http": "http://141.101.122.216:80"},
    {"http": "http://172.64.143.25:80"},
    {"http": "http://141.193.213.89:80"},
    {"http": "http://172.67.182.49:80"},
    {"http": "http://172.67.181.94:80"},
    {"http": "http://172.67.181.168:80"}
    
]

user_agents = [
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36",
    "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/14.1.1 Safari/605.1.15",
    "Mozilla/5.0 (Linux; Android 10; SM-G973F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.120 Mobile Safari/537.36",]

def generate_random_russian_email():
    domains = ["@mail.ru", "@gmail.com"]
    username_chars = string.ascii_lowercase + string.digits + '._-'
    username = ''.join(random.choice(username_chars) for _ in range(random.randint(5, 10)))
    domain = random.choice(domains)
    return username + domain
    
import re

@bot.message_handler(commands=['start'])
def send_welcome(message):
    top_donators_message = "\n".join([f"{donator['user_id']} - {donator['amount']}₽ 💰" for donator in top_donators])
    complaint_types_users_message = "\n".join([f"[{i+1}] {key} {get_emoji(key)}" for i, key in enumerate(complaint_types_users.keys())])
    complaint_types_groups_message = "\n".join([f"[{i+1}] {key} {get_emoji(key)}" for i, key in enumerate(complaint_types_groups.keys())])
    complaint_types_channels_message = "\n".join([f"[{i+1}] {key} {get_emoji(key)}" for i, key in enumerate(complaint_types_channels.keys())])
    welcome_text = (
        "🎉 *Добро пожаловать!* 🎉\n\n"
        "Я ваш бот для управления жалобами. Вот что я могу:\n"
        "1. Принимать жалобы на пользователей. 📬\n"
        "2. Принимать жалобы на группы. 📬\n"
        "3. Принимать жалобы на каналы. 📬\n\n"
        "Примеры запросов для пользователей:\n"
        "`пользователь 123456 3 Спам https://example.com/violation` 📝🔢\n"
        "`пользователь 123456 3 Спам` 📝🔢\n\n"
        "Примеры запросов для групп:\n"
        "`группа 123456 3 Спам https://example.com/violation` 📝🔢\n"
        "`группа 123456 3 Спам` 📝🔢\n\n"
        "Примеры запросов для каналов:\n"
        "`канал 123456 3 Спам https://example.com/violation` 📝🔢\n"
        "`канал 123456 3 Спам` 📝🔢\n\n"
        "Темы жалоб для пользователей:\n"
        f"{complaint_types_users_message}\n\n"
        "Темы жалоб для групп:\n"
        f"{complaint_types_groups_message}\n\n"
        "Темы жалоб для каналов:\n"
        f"{complaint_types_channels_message}\n\n"
        "Топ донатеров:\n"
        f"{top_donators_message}\n\n"
        "Для начала работы, пожалуйста, подпишитесь на наш канал и ознакомьтесь с правилами. 📢🔔"
    )
    markup = types.InlineKeyboardMarkup()
    markup.row_width = 2
    markup.add(
        types.InlineKeyboardButton("Подписаться", url=channel_link),
        types.InlineKeyboardButton("Донат", url=donate_link)
    )
    send_long_message(message.chat.id, welcome_text, reply_markup=markup, parse_mode='Markdown')

def get_emoji(complaint_type):
    emoji_map = {
        "Спам": "📧",
        "Мошенничество": "💸",
        "Оскорбления": "🤬",
        "Нарушение авторских прав": "📚",
        "Порнография": "🔞",
        "Фишинг": "🌐",
        "Вирт": "📱",
        "Дианон": "🪪",
        "Реклама": "📰",
        "Распространение нелегального контента": "🚫",
        "Нарушение конфиденциальности": "🔒",
        "Нарушение правил платформы": "⚠️",
        "Незаконная реклама": "📢"
    }
    return emoji_map.get(complaint_type, "")

def send_long_message(chat_id, text, **kwargs):
    max_length = 4096
    for i in range(0, len(text), max_length):
        bot.send_message(chat_id, text[i:i + max_length], **kwargs)

@bot.message_handler(commands=['ban'])
def ban_user(message):
    if message.from_user.id not in admins:
        bot.reply_to(message, "У вас нет прав для выполнения этой команды. 🚫")
        return

    args = message.text.split()[1:]
    if len(args) < 2:
        bot.reply_to(message, "Использование: /ban user_id reason 🚫")
        return

    user_id = args[0]
    reason = " ".join(args[1:])
    banned_users[user_id] = reason
    bot.reply_to(message, f"Пользователь {user_id} забанен по причине: {reason} 🚫")

@bot.message_handler(commands=['vip'])
def vip_user(message):
    if message.from_user.id not in admins:
        bot.reply_to(message, "У вас нет прав для выполнения этой команды. 🚫")
        return

    args = message.text.split()[1:]
    if len(args) < 1:
        bot.reply_to(message, "Использование: /vip user_id 🌟")
        return

    user_id = args[0]
    if user_id not in vip_users:
        vip_users.append(user_id)
        bot.reply_to(message, f"Пользователь {user_id} теперь VIP 🌟")
    else:
        bot.reply_to(message, f"Пользователь {user_id} уже VIP 🌟")

@bot.message_handler(commands=['unban'])
def unban_user(message):
    if message.from_user.id not in admins:
        bot.reply_to(message, "У вас нет прав для выполнения этой команды. 🚫")
        return

    args = message.text.split()[1:]
    if len(args) < 1:
        bot.reply_to(message, "Использование: /unban user_id 🔓")
        return

    user_id = args[0]
    if user_id in banned_users:
        del banned_users[user_id]
        bot.reply_to(message, f"Пользователь {user_id} разбанен 🔓")
    else:
        bot.reply_to(message, f"Пользователь {user_id} не забанен 🚫")

@bot.message_handler(commands=['unvip'])
def unvip_user(message):
    if message.from_user.id not in admins:
        bot.reply_to(message, "У вас нет прав для выполнения этой команды. 🚫")
        return

    args = message.text.split()[1:]
    if len(args) < 1:
        bot.reply_to(message, "Использование: /unvip user_id 🌟")
        return

    user_id = args[0]
    if user_id in vip_users:
        vip_users.remove(user_id)
        bot.reply_to(message, f"Пользователь {user_id} больше не VIP 🌟")
    else:
        bot.reply_to(message, f"Пользователь {user_id} не имеет статуса VIP 🚫")

@bot.message_handler(commands=['help'])
def send_help(message):
    help_text = (
        "Доступные команды:\n"
        "/start - Начать работу с ботом 🚀\n"
        "/ban - Забанить пользователя 🚫\n"
        "/vip - Добавить пользователя в VIP 🌟\n"
        "/unban - Разбанить пользователя 🔓\n"
        "/unvip - Убрать пользователя из VIP 🌟\n"
        "/help - Показать эту справку ℹ️"
    )
    bot.send_message(message.chat.id, help_text)

@bot.message_handler(func=lambda message: True)
def handle_message(message):
    user_id = message.from_user.id
    if user_id in banned_users:
        bot.reply_to(message, f"Вы были забанены модератором по причине: {banned_users[user_id]}")
        return

    logger.info(f"Received message: {message.text}")
    if not is_user_subscribed(message.from_user.id):
        bot.reply_to(message, "Вы должны быть подписаны на наш канал для использования бота. Пожалуйста, подпишитесь и попробуйте снова.🚫📢")
        return

    text = message.text.split()
    if len(text) < 4:
        bot.reply_to(message, "Пожалуйста, введите данные в формате:\n"
                              "`цель ID количество тип [ссылка]`\n"
                              "Пример: `пользователь 123456 3 Спам https://example.com/violation` или `пользователь 123456 3 Спам`")
        return

    target_type = text[0].lower()
    target_id = text[1]
    request_count = text[2]
    chosen_complaint_type = ' '.join(text[3:]).capitalize()  # Объединяем все слова после третьего
    link = text[4] if len(text) > 4 else "ссылки нет, так как канал приватный"

    logger.info(f"Parsed target_type: {target_type}, target_id: {target_id}, request_count: {request_count}, chosen_complaint_type: {chosen_complaint_type}, link: {link}")

    if target_id in [str(donator['user_id']) for donator in top_donators]:
        bot.reply_to(message, "Вы не можете отправить жалобу на пользователей из топ донатеров. 🚫👑")
        return

    try:
        request_count = int(request_count)
    except ValueError:
        bot.reply_to(message, "Неверный формат количества жалоб. Пожалуйста, введите число.")
        return

    if request_count > 50 and user_id not in vip_users and user_id not in admins:
        bot.reply_to(message, "Вы не можете отправить более 50 жалоб за один запрос. Пожалуйста, уменьшите количество или обратитесь к администратору для получения статуса VIP. 🚫 🌟")
        return

    if target_type == "пользователь":
        complaint_types = complaint_types_users
    elif target_type == "группа":
        complaint_types = complaint_types_groups
    elif target_type == "канал":
        complaint_types = complaint_types_channels
    else:
        bot.reply_to(message, "Неверный тип цели. Используйте 'пользователь', 'группа' или 'канал'.")
        return

    logger.info(f"Available complaint types: {complaint_types.keys()}")

    if chosen_complaint_type not in complaint_types:
        bot.reply_to(message, "Неверный тип жалобы. Доступные типы: " + ", ".join(complaint_types.keys()))
        return

    for i in range(request_count):
        cause = random.choice(complaint_types[chosen_complaint_type]).format(user_id=target_id, link=link)
        email = generate_random_russian_email()
        phone = random.choice(phone_numbers)

        for site in sites:
            data = site['data'].copy()
            data['message'] = cause
            data['email'] = email
            data['phone'] = phone

            proxy = random.choice(proxies)
            try:
                response = requests.post(site['url'], data=data, proxies=proxy)
                logger.info(f"Sent complaint to {site['url']} via proxy {proxy['http']}, response: {response.status_code}")
                break
            except requests.RequestException as e:
                logger.error(f"Error sending complaint to {site['url']} via proxy {proxy['http']}: {e}")
                continue
        else:
            logger.error(f"Failed to send complaint to {site['url']} via all proxies")
        time.sleep(1)  
        bot.send_message(message.chat.id, f"Жалоба отправлена: {cause}, email: {email}, phone: {phone}📨📮")
        
def is_user_subscribed(user_id):
    try:
        member = bot.get_chat_member(channel_id, user_id)
        return member.status in ['member', 'creator', 'administrator']
    except Exception as e:
        logger.error(f"Error checking subscription: {e}")
        return False

if __name__ == '__main__':
    logger.info("Bot started")
    bot.polling()
